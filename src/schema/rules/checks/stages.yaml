---

CheckUndefinedLabels:
  issue:
    code: UNDEFINED_LABELS
    message: >
      Some labels in the TSV for "stage", "position", or "scorer" are not defined >
        in the JSON sidecar.
    level: warning
  selectors:
    - suffix == "stages"
    - extension == ".tsv"
  checks:
    - '"stage" in table.column("stage") and "Levels" in sidecar.stage >
        and table.column("stage") not in sidecar.stage.Levels: warning'
    - '"position" in table.column("position") and "Levels" in sidecar.position >
        and table.column("position") not in sidecar.position.Levels: warning'
    - '"scorer" in table.column("scorer") and "Levels" in sidecar.scorer >
        and table.column("scorer") not in sidecar.scorer.Levels: warning'
EpochDurationConsistency:
  issue:
    code: INCONSISTENT_EPOCH_DURATIONS
    message: >
      Epoch durations in the TSV file are inconsistent across records.
    level: warning
  selectors:
    - suffix == "stages"
    - extension == ".tsv"
  checks:
    - 'count(distinct(table.column("duration"))) > 1: warning'
